<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pantallas con LEDs</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #1a1a1a;
        color: white;
        overflow: hidden;
    }
    .pantalla {
        display: none;
        width: 100%;
        height: 100vh;
    }
    .activa {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    h1 {
        margin-bottom: 40px;
    }
    .usuario-btn {
        padding: 15px 30px;
        margin: 10px;
        font-size: 1.5em;
        cursor: pointer;
        border: none;
        border-radius: 8px;
        background-color: #444;
        color: white;
        transition: background-color 0.3s;
    }
    .usuario-btn:hover {
        background-color: #666;
    }
    .titulo {
        font-size: 4em;
        margin-bottom: 40px;
    }
    .grupo-contenedor {
        display: flex;
        justify-content: center;
        gap: 80px;
        text-align: center;
    }
    .grupo {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .leds {
        display: flex;
        gap: 20px;
        margin-top: 10px;
    }
    .led {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #222;
        border: 2px solid #555;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    .led.encendido {
        background-color: red;
        box-shadow: 0 0 20px red;
        animation: parpadeo 1s infinite;
    }
    @keyframes parpadeo {
        0%, 100% { box-shadow: 0 0 5px red; }
        50% { box-shadow: 0 0 20px red; }
    }
</style>
</head>
<body>

<!-- Pantalla 1 -->
<div id="pantalla1" class="pantalla activa">
    <h1>Selecciona tu usuario</h1>
    <button class="usuario-btn" onclick="seleccionarUsuario('logistica')">LOGÍSTICA</button>
    <button class="usuario-btn" onclick="seleccionarUsuario('multiport')">MULTIPORT</button>
    <button class="usuario-btn" onclick="seleccionarUsuario('bedrock')">BEDROCK</button>
    <button class="usuario-btn" onclick="seleccionarUsuario('drops')">DROPS</button>
</div>

<!-- Pantalla 2 -->
<div id="pantalla2" class="pantalla">
    <div class="titulo">LOGÍSTICA</div>
    <div class="grupo-contenedor">
        <div class="grupo">
            <div class="nombre">MULTIPORT</div>
            <div>Tarimas</div>
            <div class="leds" data-grupo="multiport"></div>
        </div>
        <div class="grupo">
            <div class="nombre">DROPS</div>
            <div>Tarimas</div>
            <div class="leds" data-grupo="drops"></div>
        </div>
        <div class="grupo">
            <div class="nombre">BEDROCK</div>
            <div>Tarimas</div>
            <div class="leds" data-grupo="bedrock"></div>
        </div>
    </div>
</div>

<script>
    let usuarioSeleccionado = null;

    // Crear LEDs dinámicamente
    document.querySelectorAll(".leds").forEach(container => {
        for (let i = 0; i < 5; i++) {
            const led = document.createElement("div");
            led.classList.add("led");
            led.addEventListener("click", () => toggleLed(container.dataset.grupo, i));
            container.appendChild(led);
        }
    });

    // Alternar LED
    function toggleLed(grupo, index) {
        if (usuarioSeleccionado !== grupo && usuarioSeleccionado !== "logistica") return;

        const leds = document.querySelectorAll(`[data-grupo="${grupo}"] .led`);
        leds[index].classList.toggle("encendido");

        guardarEstado();
    }

    // Guardar estado en localStorage
    function guardarEstado() {
        const estado = {};
        document.querySelectorAll(".leds").forEach(container => {
            const grupo = container.dataset.grupo;
            estado[grupo] = Array.from(container.children).map(led => led.classList.contains("encendido"));
        });
        localStorage.setItem("ledEstado", JSON.stringify(estado));
    }

    // Cargar estado desde localStorage
    function cargarEstado() {
        const estado = JSON.parse(localStorage.getItem("ledEstado"));
        if (!estado) return;
        for (const grupo in estado) {
            const leds = document.querySelectorAll(`[data-grupo="${grupo}"] .led`);
            estado[grupo].forEach((encendido, i) => {
                if (encendido) leds[i].classList.add("encendido");
            });
        }
    }

    // Seleccionar usuario
    function seleccionarUsuario(usuario) {
        usuarioSeleccionado = usuario;
        document.getElementById("pantalla1").classList.remove("activa");
        document.getElementById("pantalla1").style.display = "none";
        document.getElementById("pantalla2").classList.add("activa");
        cargarEstado();
    }

    // Siempre iniciar en pantalla 1
    window.onload = () => {
        usuarioSeleccionado = null;
        document.getElementById("pantalla1").classList.add("activa");
        document.getElementById("pantalla2").classList.remove("activa");
    }
</script>

</body>
</html>